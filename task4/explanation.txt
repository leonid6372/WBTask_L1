Для корректного завершения работы всех воркеров отправляем N раз сигнал завершения в канал, который слушают воркеры.
Воркеры получая сигнал из канала для завершения, отправлются в case, где проиходят отправка сигнала об успешном завершении всех действий в воркере и return из функции воркера.
В конце main() программы ожидаем N сигналов об успешном завершении работы N воркеров. Только после этого завершаем main().